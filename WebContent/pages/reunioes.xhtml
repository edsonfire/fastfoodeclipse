<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" template="../templates/template.xhtml">

	

	<ui:define name="conteudo">
		<h:form id="fprinc">
							<div class="ContainerIndent ui-fluid" id="dform">
								<div class="Container100 Responsive100">
								
								<div class="ContainerIndent" style="margin-left: 2%">
									<h:outputText value="Cadastro de Reuniões" styleClass="FontBold Fs18 hardblue"></h:outputText>
								</div>
								<p:panelGrid>
									<p:commandButton value="Adicionar" action="#{reuniaoBean.gotoCadNovoReuniao}"  ></p:commandButton>
								
								</p:panelGrid>
								
								
								
								
								
								
								
								</div>
								
								<div class="Container100 Responsive100">
								
										<p:dataTable reflow="true" id="evs" var="ev" value="#{reuniaoBean.reuniaos}" selectionMode="single"  emptyMessage="nenhum reuniao Cadastrado" rowKey="#{ev.id}" selection="#{reuniaoBean.reuniaoSelected}">
									
							
									<p:column headerText="Assunto" >
										<h:outputText value="#{ev.assunto}" />
									</p:column>
									
									<p:column headerText="Data" >
										<h:outputText value="#{ev.data}" >
										<f:convertDateTime dateStyle="medium" locale="pt_BR" type="date" timeZone="GMT-3"/>
										</h:outputText>
									</p:column>
									
									
									<p:column headerText="Local" >
										<h:outputText value="#{ev.local}" />
									</p:column>
									
									<p:column headerText="Participantes" >
										<h:outputText value="#{ev.participantes}" />
									</p:column>
												
												<p:column >
									<p:commandButton value="Ver"  action="#{reuniaoBean.gotoCadEvent}">
										<f:setPropertyActionListener value="#{ev}" target="#{reuniaoBean.reuniaoSelected}" />
									</p:commandButton>
									</p:column>			
								</p:dataTable>							
								</div>
								
								
								
								
								     
								
								
						
							</div>
							        <hr/>
		
					       
						  <p:contextMenu for="evs" widgetVar="cMenu">   
       <p:menuitem value="Editar" icon="ui-icon-search"   action="#{reuniaoBean.gotoCadEvent}">
			       	
       </p:menuitem>  
       <p:menuitem value="Fechar" icon="ui-icon-close" onclick="PF('pMenu').hide()"/>
       <p:menuitem value="Excluir" icon="ui-icon-close" onclick="PF('pDel').show()"/>  
   </p:contextMenu> 
		
			
		
		</h:form>
	<p:dialog id="pdel" widgetVar="pDel" modal="true">
		<h:form id="fdel">
			<h2>Deseja Excluir a Reuniao?</h2>
			<p:panelGrid columns="2">
				<p:commandButton value="Sim" action="#{reuniaoBean.excluir}" oncomplete="PF('pDel').hide()" update=":fprinc"></p:commandButton>
				<p:commandButton value="Não" onclick="PF('pDel').hide()"></p:commandButton>
			</p:panelGrid>
		</h:form>
	</p:dialog>	                
		
		
		
	</ui:define>
</ui:composition>